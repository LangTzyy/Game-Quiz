<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Indonesia</title>
    <style>
        /* Global Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            transition: background 0.5s ease;
            color: #333;
            background-image: url('https://i.imgur.com/JnQeZbF.png');
            background-size: 300px;
            background-repeat: repeat;
            background-attachment: fixed;
            background-blend-mode: overlay;
            background-color: rgba(255,255,255,0.9);
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Batik Pattern Overlay */
        .batik-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://i.imgur.com/X9Vx5Qp.png');
            opacity: 0.05;
            pointer-events: none;
            z-index: -1;
        }
        
        /* Login Screen */
        #loginScreen {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .login-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            width: 400px;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .login-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 10px;
            background: linear-gradient(90deg, #ff512f 0%, #dd2476 100%);
        }
        
        .login-container h1 {
            color: #dd2476;
            margin-bottom: 30px;
            font-weight: 700;
        }
        
        .logo {
            width: 100px;
            margin-bottom: 20px;
        }
        
        .login-container input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #eee;
            border-radius: 50px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .login-container input:focus {
            border-color: #dd2476;
            outline: none;
            box-shadow: 0 0 10px rgba(221, 36, 118, 0.2);
        }
        
        .login-container button {
            background: linear-gradient(90deg, #ff512f 0%, #dd2476 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            margin-top: 20px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
        }
        
        .login-container button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(221, 36, 118, 0.3);
        }
        
        .social-login {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .social-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .social-btn:hover {
            transform: translateY(-3px);
        }
        
        .google-btn {
            background: #DB4437;
        }
        
        .facebook-btn {
            background: #4267B2;
        }
        
        .footer-text {
            margin-top: 30px;
            font-size: 14px;
            color: #777;
        }
        
        /* Loading Screen */
        #loadingScreen {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
            text-align: center;
            overflow: hidden;
        }
        
        .loading-container {
            position: relative;
            z-index: 1;
        }
        
        #loadingScreen h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .welcome-text {
            font-size: 1.5rem;
            margin-bottom: 40px;
            opacity: 0.9;
        }
        
        .progress-container {
            width: 300px;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            margin: 0 auto;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, #f9d423 0%, #ff4e50 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .loading-text {
            margin-top: 20px;
            font-style: italic;
            opacity: 0.8;
        }
        
        .coin-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 30px auto;
        }
        
        .coin {
            width: 100px;
            height: 100px;
            background: #f9d423;
            border-radius: 50%;
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: #8a6d00;
            box-shadow: 0 0 0 4px rgba(249, 212, 35, 0.4),
                        0 0 0 8px rgba(249, 212, 35, 0.3),
                        0 0 0 12px rgba(249, 212, 35, 0.2),
                        0 0 0 16px rgba(249, 212, 35, 0.1);
            animation: spin 2s linear infinite;
        }
        
        .coin::before {
            content: 'Rp';
            position: absolute;
            font-size: 0.8rem;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .coin::after {
            content: '1000';
            position: absolute;
            font-size: 1.5rem;
            bottom: 30%;
            left: 50%;
            transform: translateX(-50%);
        }
        
        @keyframes spin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
        
        .user-name {
            color: #f9d423;
            font-weight: bold;
        }
        
        /* Level Selection */
        #levelScreen {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .level-container {
            width: 90%;
            max-width: 800px;
            text-align: center;
            padding: 30px;
        }
        
        .level-container h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            margin-bottom: 40px;
        }
        
        .levels {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .level-card {
            background: white;
            border-radius: 15px;
            width: 200px;
            padding: 30px 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .level-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .level-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
        }
        
        .pelajar::after {
            background: #2ecc71;
        }
        
        .mahasiswa::after {
            background: #3498db;
        }
        
        .level-icon {
            font-size: 50px;
            margin-bottom: 20px;
        }
        
        .pelajar .level-icon {
            color: #2ecc71;
        }
        
        .mahasiswa .level-icon {
            color: #3498db;
        }
        
        .level-title {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .level-desc {
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .back-button {
            margin-top: 40px;
            background: none;
            border: 2px solid #3498db;
            color: #3498db;
            padding: 10px 25px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .back-button:hover {
            background: #3498db;
            color: white;
        }
        
        /* Quiz Screen */
        #quizScreen {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            position: relative;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .quiz-info {
            display: flex;
            gap: 20px;
        }
        
        .info-box {
            background: white;
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-box i {
            font-size: 1.2rem;
        }
        
        .level-indicator {
            background: white;
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .level-indicator.pelajar {
            border-left: 5px solid #2ecc71;
        }
        
        .level-indicator.mahasiswa {
            border-left: 5px solid #3498db;
        }
        
        .question-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .question-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 10px;
            height: 100%;
            background: linear-gradient(to bottom, #ff512f, #dd2476);
        }
        
        .question-number {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 30px;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: 500;
        }
        
        .option:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }
        
        .option.selected {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .option.correct {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .option.wrong {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .nav-button {
            background: linear-gradient(90deg, #ff512f 0%, #dd2476 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nav-button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .nav-button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(221, 36, 118, 0.3);
        }
        
        .progress-container {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 10px;
            margin: 30px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff512f 0%, #dd2476 100%);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .timer {
            position: absolute;
            top: 30px;
            right: 30px;
            background: #fff;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid #dd2476;
        }
        
        /* Soekarno Images */
        .soekarno-img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 50%;
            border: 5px solid white;
            margin: 20px auto;
            display: block;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* Win Screen */
        #winScreen {
            background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
            text-align: center;
            overflow: hidden;
        }
        
        .win-container {
            position: relative;
            z-index: 1;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .win-container h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .congrats-text {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }
        
        .score-container {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            display: inline-block;
        }
        
        .score {
            font-size: 4rem;
            font-weight: bold;
            color: #f9d423;
            line-height: 1;
        }
        
        .score-label {
            font-size: 1.2rem;
            opacity: 0.8;
        }
        
        .level-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .pelajar-badge {
            background: #2ecc71;
        }
        
        .mahasiswa-badge {
            background: #3498db;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .button {
            background: white;
            color: #185a9d;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .button-play {
            background: linear-gradient(90deg, #f9d423 0%, #ff4e50 100%);
            color: white;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #f9d423;
            opacity: 0;
            z-index: 0;
            animation: confetti 5s ease-in-out infinite;
        }
        
        @keyframes confetti {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        .badge {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        /* Lose Screen */
        #loseScreen {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: white;
            text-align: center;
            overflow: hidden;
        }
        
        .lose-container {
            position: relative;
            z-index: 1;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .lose-container h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .encourage-text {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }
        
        .lose-badge {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: shake 0.5s infinite;
        }
        
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .notification.show {
            opacity: 1;
        }
        
        /* Error Message */
        .error-message {
            color: #e74c3c;
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: left;
            padding-left: 15px;
            display: none;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
</head>
<body>
    <!-- Batik Pattern Overlay -->
    <div class="batik-overlay"></div>
    
    <!-- Notification -->
    <div class="notification" id="notification"></div>
    
    <!-- Login Screen -->
    <div id="loginScreen">
        <div class="login-container">
            <img src="https://i.imgur.com/JnQeZbF.png" alt="Quiz Indonesia" class="logo">
            <h1>MASUK KE QUIZ INDONESIA</h1>
            <form id="loginForm">
                <input type="text" id="username" placeholder="Username" required>
                <div class="error-message" id="usernameError"></div>
                
                <input type="password" id="password" placeholder="Password" required>
                <div class="error-message" id="passwordError"></div>
                
                <button type="submit">MASUK</button>
                
                <div class="social-login">
                    <div class="social-btn google-btn" id="googleLogin">
                        <i class="fab fa-google"></i>
                    </div>
                    <div class="social-btn facebook-btn" id="facebookLogin">
                        <i class="fab fa-facebook-f"></i>
                    </div>
                </div>
            </form>
            <p class="footer-text">Uji pengetahuanmu tentang Indonesia!</p>
        </div>
    </div>
    
    <!-- Loading Screen -->
    <div id="loadingScreen" class="hidden">
        <div class="loading-container">
            <h1>Selamat Datang, <span class="user-name" id="usernameDisplay"></span>!</h1>
            <div class="welcome-text">Mempersiapkan kuis tentang Indonesia untukmu...</div>
            
            <div class="coin-container">
                <div class="coin"></div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="loading-text" id="loadingText">Memuat pertanyaan...</div>
        </div>
    </div>
    
    <!-- Level Selection Screen -->
    <div id="levelScreen" class="hidden">
        <div class="level-container">
            <h1>Pilih Tingkat Kesulitan</h1>
            <p class="subtitle">Pilih tantangan sesuai dengan jenjang pendidikanmu</p>
            
            <div class="levels">
                <div class="level-card pelajar" id="pelajarLevel">
                    <div class="level-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="level-title">Pelajar</div>
                    <div class="level-desc">Pertanyaan dasar untuk siswa SD sampai SMA</div>
                </div>
                
                <div class="level-card mahasiswa" id="mahasiswaLevel">
                    <div class="level-icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                    <div class="level-title">Mahasiswa</div>
                    <div class="level-desc">Tantangan untuk tingkat perguruan tinggi</div>
                </div>
            </div>
            
            <button class="back-button" id="backToLogin">
                <i class="fas fa-arrow-left"></i> Kembali
            </button>
        </div>
    </div>
    
    <!-- Quiz Screen -->
    <div id="quizScreen" class="hidden">
        <div class="quiz-container">
            <div class="header">
                <h1>Quiz Indonesia</h1>
                <div class="quiz-info">
                    <div class="info-box">
                        <i class="fas fa-user"></i>
                        <span id="quizUsername"></span>
                    </div>
                    <div class="info-box">
                        <i class="fas fa-trophy"></i>
                        <span id="scoreDisplay">0</span> Poin
                    </div>
                </div>
            </div>
            
            <div class="level-indicator" id="levelIndicator">
                <i class="fas fa-layer-group"></i>
                <span id="currentLevel">Level: Pelajar</span>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="quizProgress"></div>
            </div>
            
            <div class="question-container">
                <div class="timer" id="timer">30</div>
                <div class="question-number">Pertanyaan <span id="currentQuestion">1</span>/<span id="totalQuestions">5</span></div>
                <div class="question-text" id="questionText">Memuat pertanyaan...</div>
                <div class="options-container" id="optionsContainer">
                    <!-- Opsi akan diisi oleh JavaScript -->
                </div>
                
                <img src="" id="soekarnoImage" class="soekarno-img hidden">
            </div>
            
            <div class="navigation">
                <button class="nav-button" id="prevButton" disabled>
                    <i class="fas fa-arrow-left"></i> Sebelumnya
                </button>
                <button class="nav-button" id="nextButton">
                    Selanjutnya <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Win Screen -->
    <div id="winScreen" class="hidden">
        <!-- Confetti elements will be added by JS -->
        
        <div class="win-container">
            <img src="https://i.imgur.com/xyz1234.jpg" alt="Soekarno Thumbs Up" class="soekarno-img">
            <h1>SELAMAT!</h1>
            <div class="congrats-text">
                <span class="user-name" id="winUsername"></span> berhasil menyelesaikan kuis!
            </div>
            
            <div class="score-container">
                <div class="score" id="finalScore"></div>
                <div class="score-label">Total Poin</div>
                <div class="level-badge" id="winLevelBadge">Level: Pelajar</div>
            </div>
            
            <div class="buttons">
                <button class="button button-play" id="playAgainWin">
                    <i class="fas fa-play"></i> Main Lagi
                </button>
                <button class="button" id="backToLevelWin">
                    <i class="fas fa-layer-group"></i> Kembali ke Tingkatan
                </button>
            </div>
        </div>
    </div>
    
    <!-- Lose Screen -->
    <div id="loseScreen" class="hidden">
        <div class="lose-container">
            <img src="https://i.imgur.com/abc5678.jpg" alt="Soekarno Crying" class="soekarno-img">
            <h1>YAH KALAH!</h1>
            <div class="encourage-text">
                <span class="user-name" id="loseUsername"></span>, jangan menyerah! Coba lagi!
            </div>
            
            <div class="score-container">
                <div class="score" id="loseScore"></div>
                <div class="score-label">Total Poin</div>
                <div class="level-badge" id="loseLevelBadge">Level: Pelajar</div>
            </div>
            
            <div class="buttons">
                <button class="button button-play" id="tryAgain">
                    <i class="fas fa-redo"></i> Coba Lagi
                </button>
                <button class="button" id="backToLevelLose">
                    <i class="fas fa-layer-group"></i> Kembali ke Tingkatan
                </button>
                <button class="button" id="goHomeLose">
                    <i class="fas fa-home"></i> Beranda
                </button>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="tingSound" src="https://assets.mixkit.co/sfx/preview/mixkit-positive-interface-beep-221.mp3" preload="auto"></audio>
    <audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" preload="auto"></audio>
    <audio id="loseSound" src="https://assets.mixkit.co/sfx/preview/mixkit-retro-arcade-lose-2027.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        // Data kuis berdasarkan level
        const quizData = {
            pelajar: [
                {
                    question: "Apa ibu kota Indonesia?",
                    options: ["Jakarta", "Bandung", "Surabaya", "Medan"],
                    answer: 0
                },
                {
                    question: "Pulau terbesar di Indonesia adalah?",
                    options: ["Jawa", "Sumatera", "Kalimantan", "Papua"],
                    answer: 3
                },
                {
                    question: "Lagu kebangsaan Indonesia adalah?",
                    options: ["Indonesia Raya", "Garuda Pancasila", "Bagimu Negeri", "Halo-Halo Bandung"],
                    answer: 0
                },
                {
                    question: "Binatang yang menjadi simbol negara Indonesia adalah?",
                    options: ["Harimau", "Gajah", "Komodo", "Elang"],
                    answer: 2
                },
                {
                    question: "Warna bendera Indonesia adalah?",
                    options: ["Merah dan Putih", "Merah dan Biru", "Hijau dan Kuning", "Hitam dan Putih"],
                    answer: 0
                },
                {
                    question: "Alat musik tradisional dari Jawa Barat adalah?",
                    options: ["Angklung", "Gamelan", "Sasando", "Tifa"],
                    answer: 0
                },
                {
                    question: "Presiden pertama Indonesia adalah?",
                    options: ["Soeharto", "Soekarno", "Joko Widodo", "Susilo Bambang Yudhoyono"],
                    answer: 1
                },
                {
                    question: "Mata uang Indonesia adalah?",
                    options: ["Ringgit", "Rupiah", "Dollar", "Peso"],
                    answer: 1
                },
                {
                    question: "Gunung terkenal di Jawa Timur adalah?",
                    options: ["Gunung Rinjani", "Gunung Semeru", "Gunung Kerinci", "Gunung Merapi"],
                    answer: 1
                },
                {
                    question: "Tari Kecak berasal dari?",
                    options: ["Bali", "Jawa Tengah", "Sumatera Barat", "Sulawesi Selatan"],
                    answer: 0
                }
            ],
            mahasiswa: [
                {
                    question: "Siapa pencipta lagu Indonesia Raya?",
                    options: ["Ismail Marzuki", "W.R. Supratman", "C. Simanjuntak", "H. Mutahar"],
                    answer: 1
                },
                {
                    question: "Gunung tertinggi di Indonesia adalah?",
                    options: ["Semeru", "Rinjani", "Kerinci", "Puncak Jaya"],
                    answer: 3
                },
                {
                    question: "Tahun berapa Indonesia merdeka?",
                    options: ["1944", "1945", "1946", "1947"],
                    answer: 1
                },
                {
                    question: "Danau terbesar di Indonesia adalah?",
                    options: ["Danau Toba", "Danau Singkarak", "Danau Poso", "Danau Sentani"],
                    answer: 0
                },
                {
                    question: "Suku bangsa terbesar di Indonesia adalah?",
                    options: ["Jawa", "Sunda", "Batak", "Bugis"],
                    answer: 0
                },
                {
                    question: "Bandara internasional di Bali bernama?",
                    options: ["Soekarno-Hatta", "Juanda", "Ngurah Rai", "Hasanuddin"],
                    answer: 2
                },
                {
                    question: "Pulau yang terkenal dengan komoditi timahnya adalah?",
                    options: ["Bangka Belitung", "Madura", "Lombok", "Bali"],
                    answer: 0
                },
                {
                    question: "Provinsi termuda di Indonesia adalah?",
                    options: ["Kalimantan Utara", "Gorontalo", "Kepulauan Riau", "Banten"],
                    answer: 0
                },
                {
                    question: "Taman Nasional yang terkenal dengan badaknya adalah?",
                    options: ["Taman Nasional Komodo", "Taman Nasional Ujung Kulon", "Taman Nasional Bunaken", "Taman Nasional Lorentz"],
                    answer: 1
                },
                {
                    question: "Pahlawan nasional dari Aceh adalah?",
                    options: ["Cut Nyak Dhien", "R.A. Kartini", "Ki Hajar Dewantara", "Diponegoro"],
                    answer: 0
                }
            ]
        };

        // Variabel game
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        let timer;
        let timeLeft = 30;
        let questions = [];
        let level = '';
        let username = '';
        
        // Elemen DOM
        const loginScreen = document.getElementById('loginScreen');
        const loadingScreen = document.getElementById('loadingScreen');
        const levelScreen = document.getElementById('levelScreen');
        const quizScreen = document.getElementById('quizScreen');
        const winScreen = document.getElementById('winScreen');
        const loseScreen = document.getElementById('loseScreen');
        const notification = document.getElementById('notification');
        
        // Form Login
        const loginForm = document.getElementById('loginForm');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const usernameError = document.getElementById('usernameError');
        const passwordError = document.getElementById('passwordError');
        const googleLogin = document.getElementById('googleLogin');
        const facebookLogin = document.getElementById('facebookLogin');
        
        // Audio Elements
        const tingSound = document.getElementById('tingSound');
        const winSound = document.getElementById('winSound');
        const loseSound = document.getElementById('loseSound');
        
        // Loading Screen
        const usernameDisplay = document.getElementById('usernameDisplay');
        const progressBar = document.getElementById('progressBar');
        const loadingText = document.getElementById('loadingText');
        
        // Level Screen
        const pelajarLevel = document.getElementById('pelajarLevel');
        const mahasiswaLevel = document.getElementById('mahasiswaLevel');
        const backToLogin = document.getElementById('backToLogin');
        
        // Quiz Screen
        const quizUsername = document.getElementById('quizUsername');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const currentQuestionDisplay = document.getElementById('currentQuestion');
        const totalQuestionsDisplay = document.getElementById('totalQuestions');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const quizProgress = document.getElementById('quizProgress');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const timerDisplay = document.getElementById('timer');
        const levelIndicator = document.getElementById('levelIndicator');
        const currentLevel = document.getElementById('currentLevel');
        const soekarnoImage = document.getElementById('soekarnoImage');
        
        // Win Screen
        const winUsername = document.getElementById('winUsername');
        const finalScore = document.getElementById('finalScore');
        const playAgainWin = document.getElementById('playAgainWin');
        const goHomeWin = document.getElementById('goHomeWin');
        const backToLevelWin = document.getElementById('backToLevelWin');
        const winLevelBadge = document.getElementById('winLevelBadge');
        
        // Lose Screen
        const loseUsername = document.getElementById('loseUsername');
        const loseScore = document.getElementById('loseScore');
        const tryAgain = document.getElementById('tryAgain');
        const goHomeLose = document.getElementById('goHomeLose');
        const backToLevelLose = document.getElementById('backToLevelLose');
        const loseLevelBadge = document.getElementById('loseLevelBadge');
        
        // Event Listeners
        loginForm.addEventListener('submit', handleLogin);
        googleLogin.addEventListener('click', handleGoogleLogin);
        facebookLogin.addEventListener('click', handleFacebookLogin);
        
        pelajarLevel.addEventListener('click', () => {
            playTingSound();
            Swal.fire({
                title: 'Level Pelajar Dipilih!',
                text: 'Anda akan menjawab pertanyaan untuk tingkat pelajar',
                icon: 'info',
                confirmButtonText: 'Mulai Kuis'
            }).then(() => {
                startGame('pelajar');
            });
        });
        
        mahasiswaLevel.addEventListener('click', () => {
            playTingSound();
            Swal.fire({
                title: 'Level Mahasiswa Dipilih!',
                text: 'Anda akan menjawab pertanyaan untuk tingkat mahasiswa',
                icon: 'info',
                confirmButtonText: 'Mulai Kuis'
            }).then(() => {
                startGame('mahasiswa');
            });
        });
        
        backToLogin.addEventListener('click', () => {
            levelScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
        });
        prevButton.addEventListener('click', prevQuestion);
        nextButton.addEventListener('click', nextQuestion);
        playAgainWin.addEventListener('click', () => {
            winScreen.classList.add('hidden');
            levelScreen.classList.remove('hidden');
        });
        backToLevelWin.addEventListener('click', () => {
            winScreen.classList.add('hidden');
            levelScreen.classList.remove('hidden');
        });
        goHomeWin.addEventListener('click', () => {
            winScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
        });
        tryAgain.addEventListener('click', () => {
            loseScreen.classList.add('hidden');
            levelScreen.classList.remove('hidden');
        });
        backToLevelLose.addEventListener('click', () => {
            loseScreen.classList.add('hidden');
            levelScreen.classList.remove('hidden');
        });
        goHomeLose.addEventListener('click', () => {
            loseScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
        });
        
        // Fungsi untuk memainkan suara "ting ting"
        function playTingSound() {
            tingSound.currentTime = 0;
            tingSound.play();
        }
        
        // Fungsi untuk menampilkan notifikasi
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }
        
        // Fungsi untuk handle login Google
        function handleGoogleLogin() {
            // Simulasi login Google
            Swal.fire({
                title: 'Login dengan Google',
                text: 'Anda akan diarahkan ke halaman login Google',
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'Lanjutkan',
                cancelButtonText: 'Batal'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Set username untuk demo
                    username = "Pengguna Google";
                    usernameInput.value = username;
                    proceedAfterLogin();
                }
            });
        }
        
        // Fungsi untuk handle login Facebook
        function handleFacebookLogin() {
            // Simulasi login Facebook
            Swal.fire({
                title: 'Login dengan Facebook',
                text: 'Anda akan diarahkan ke halaman login Facebook',
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'Lanjutkan',
                cancelButtonText: 'Batal'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Set username untuk demo
                    username = "Pengguna Facebook";
                    usernameInput.value = username;
                    proceedAfterLogin();
                }
            });
        }
        
        // Fungsi untuk handle login
        function handleLogin(e) {
            e.preventDefault();
            
            // Reset error messages
            usernameError.style.display = 'none';
            passwordError.style.display = 'none';
            
            // Get input values
            const usernameValue = usernameInput.value.trim();
            const passwordValue = passwordInput.value.trim();
            
            // Validasi input
            let isValid = true;
            
            if (usernameValue === '') {
                usernameError.textContent = 'Username harus diisi';
                usernameError.style.display = 'block';
                isValid = false;
            } else if (usernameValue.length < 3) {
                usernameError.textContent = 'Username minimal 3 karakter';
                usernameError.style.display = 'block';
                isValid = false;
            }
            
            if (passwordValue === '') {
                passwordError.textContent = 'Password harus diisi';
                passwordError.style.display = 'block';
                isValid = false;
            } else if (passwordValue.length < 6) {
                passwordError.textContent = 'Password minimal 6 karakter';
                passwordError.style.display = 'block';
                isValid = false;
            }
            
            if (!isValid) return;
            
            // Simpan username dan lanjutkan
            username = usernameValue;
            proceedAfterLogin();
        }
        
        function proceedAfterLogin() {
            loginScreen.classList.add('hidden');
            loadingScreen.classList.remove('hidden');
            
            // Tampilkan nama pengguna di loading screen
            usernameDisplay.textContent = username;
            
            // Animasi loading
            startLoadingAnimation();
        }
        
        // Fungsi untuk animasi loading
        function startLoadingAnimation() {
            let progress = 0;
            const loadingMessages = [
                "Memuat peta Indonesia...",
                "Menyiapkan pertanyaan budaya...",
                "Mengumpulkan fakta sejarah...",
                "Mempersiapkan tantangan geografi...",
                "Hampir selesai..."
            ];
            
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress > 100) progress = 100;
                progressBar.style.width = progress + '%';
                
                // Update loading text
                if (progress < 20) loadingText.textContent = loadingMessages[0];
                else if (progress < 40) loadingText.textContent = loadingMessages[1];
                else if (progress < 60) loadingText.textContent = loadingMessages[2];
                else if (progress < 80) loadingText.textContent = loadingMessages[3];
                else loadingText.textContent = loadingMessages[4];
                
                if (progress === 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                        levelScreen.classList.remove('hidden');
                    }, 500);
                }
            }, 300);
        }
        
        // Fungsi untuk memulai game berdasarkan level
        function startGame(selectedLevel) {
            level = selectedLevel;
            levelScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            // Set username di quiz screen
            quizUsername.textContent = username;
            
            // Set level indicator
            currentLevel.textContent = `Level: ${level === 'pelajar' ? 'Pelajar' : 'Mahasiswa'}`;
            levelIndicator.className = `level-indicator ${level}`;
            
            // Inisialisasi kuis
            initializeQuiz();
        }
        
        // Inisialisasi kuis
        function initializeQuiz() {
            currentQuestion = 0;
            score = 0;
            selectedOption = null;
            timeLeft = 30;
            
            // Acak pertanyaan berdasarkan level
            const allQuestions = [...quizData[level]];
            questions = [];
            while (questions.length < 5 && allQuestions.length > 0) {
                const randomIndex = Math.floor(Math.random() * allQuestions.length);
                questions.push(allQuestions[randomIndex]);
                allQuestions.splice(randomIndex, 1);
            }
            
            // Set total pertanyaan
            totalQuestionsDisplay.textContent = questions.length;
            
            // Reset score display
            scoreDisplay.textContent = '0';
            
            // Muat pertanyaan pertama
            loadQuestion();
        }
        
        // Muat pertanyaan
        function loadQuestion() {
            resetOptions();
            const question = questions[currentQuestion];
            questionText.textContent = question.question;
            currentQuestionDisplay.textContent = currentQuestion + 1;
            quizProgress.style.width = `${(currentQuestion / questions.length) * 100}%`;
            
            // Kosongkan container opsi
            optionsContainer.innerHTML = '';
            
            // Tambahkan opsi jawaban
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                optionElement.addEventListener('click', selectOption);
                optionsContainer.appendChild(optionElement);
            });
            
            // Update tombol navigasi
            prevButton.disabled = currentQuestion === 0;
            nextButton.textContent = currentQuestion === questions.length - 1 ? "Selesai" : "Selanjutnya";
            
            // Mulai timer
            startTimer();
        }
        
        // Pilih opsi jawaban
        function selectOption(e) {
            if (document.querySelector('.option.selected')) return;
            
            const selectedIndex = parseInt(e.target.dataset.index);
            selectedOption = selectedIndex;
            
            // Tampilkan opsi yang dipilih
            e.target.classList.add('selected');
            
            // Periksa jawaban
            const isCorrect = selectedIndex === questions[currentQuestion].answer;
            
            // Tampilkan gambar Soekarno sesuai jawaban
            soekarnoImage.src = isCorrect 
                ? 'https://i.imgur.com/xyz1234.jpg' // Soekarno thumbs up
                : 'https://i.imgur.com/abc5678.jpg'; // Soekarno crying
            soekarnoImage.classList.remove('hidden');
            
            if (isCorrect) {
                e.target.classList.add('correct');
                // Hitung skor berdasarkan level
                score += level === 'pelajar' ? 10 : 20;
                scoreDisplay.textContent = score;
            } else {
                e.target.classList.add('wrong');
                // Tampilkan jawaban yang benar
                document.querySelectorAll('.option')[questions[currentQuestion].answer].classList.add('correct');
            }
            
            // Nonaktifkan semua opsi setelah memilih
            document.querySelectorAll('.option').forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Hentikan timer
            clearInterval(timer);
        }
        
        // Reset opsi jawaban
        function resetOptions() {
            optionsContainer.innerHTML = '';
            selectedOption = null;
            timeLeft = 30;
            timerDisplay.textContent = timeLeft;
            soekarnoImage.classList.add('hidden');
        }
        
        // Timer
        function startTimer() {
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // Otomatis lanjut ke pertanyaan berikutnya jika waktu habis
                    if (currentQuestion < questions.length - 1) {
                        nextQuestion();
                    } else {
                        finishQuiz();
                    }
                }
            }, 1000);
        }
        
        // Pertanyaan berikutnya
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                finishQuiz();
            }
        }
        
        // Pertanyaan sebelumnya
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }
        
        // Selesai kuis
        function finishQuiz() {
            quizScreen.classList.add('hidden');
            
            // Hitung skor minimum untuk menang (50% dari total skor maksimal)
            const minWinScore = (questions.length * (level === 'pelajar' ? 10 : 20)) / 2;
            
            // Set level badge
            const levelBadgeText = level === 'pelajar' ? 'Pelajar' : 'Mahasiswa';
            const levelBadgeClass = level === 'pelajar' ? 'pelajar-badge' : 'mahasiswa-badge';
            
            if (score >= minWinScore) {
                // Tampilkan layar menang
                winUsername.textContent = username;
                finalScore.textContent = score;
                winLevelBadge.textContent = `Level: ${levelBadgeText}`;
                winLevelBadge.className = `level-badge ${levelBadgeClass}`;
                winScreen.classList.remove('hidden');
                createConfetti();
                winSound.play();
            } else {
                // Tampilkan layar kalah
                loseUsername.textContent = username;
                loseScore.textContent = score;
                loseLevelBadge.textContent = `Level: ${levelBadgeText}`;
                loseLevelBadge.className = `level-badge ${levelBadgeClass}`;
                loseScreen.classList.remove('hidden');
                loseSound.play();
            }
        }
        
        // Buat efek confetti
        function createConfetti() {
            const colors = ['#f9d423', '#ff4e50', '#43cea2', '#185a9d', '#ffffff'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                
                // Random properties
                const size = Math.random() * 10 + 5;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const animationDuration = Math.random() * 3 + 2;
                const delay = Math.random() * 5;
                
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.backgroundColor = color;
                confetti.style.left = `${left}%`;
                confetti.style.animationDuration = `${animationDuration}s`;
                confetti.style.animationDelay = `${delay}s`;
                
                winScreen.appendChild(confetti);
            }
        }
    </script>
</body>
</html>